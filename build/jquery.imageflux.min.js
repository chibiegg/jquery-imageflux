!function(l){"use strict";var t="imageflux",r={scale:0,"force-scale":1,crop:2,pad:3},h={"top-left":1,"top-center":2,"top-right":3,"center-left":4,center:5,"center-right":6,"bottom-left":7,"bottom-center":8,"bottom-right":9};l.fn[t]=function(o){if(!o.host)return console.warn('Missing host. Ex: "demo.imageflux.jp"'),this;var a=l.extend({},l.fn[t].defaults,o);return this.each(function(o,t){var e,s,i=l(t),n=i.data("imgflx-src");n?(e=Object.assign({},a),l.each(i.data(),function(o,t){o.startsWith("imgflx")&&"imgflxSrc"!=o&&(o=o.charAt(6).toLowerCase()+o.slice(7),e[o]=t)}),n="https://"+e.host+"/"+(s=[],(t=e).width&&s.push("w="+t.width),t.height&&s.push("h="+t.height),t.aspect&&(void 0===r[t.aspect]?console.warn('Unknown aspect mode "'+t.aspect+'"'):s.push("a="+r[t.aspect])),t.backgroundColor&&s.push("b="+t.backgroundColor),t.origin&&(void 0===h[t.origin]?console.warn('Unknown origin mode "'+t.origin+'"'):s.push("g="+h[t.origin])),!1===t.allowUpscale?s.push("u=0"):!0===t.allowUpscale&&s.push("u=1"),t.format&&s.push("f="+t.format),t.quality&&s.push("q="+t.quality),!1===t.optimizeHuhmanTable?s.push("o=0"):!0===t.optimizeHuhmanTable&&s.push("o=1"),!1===t.lossless?s.push("lossless=0"):!0===t.lossless&&s.push("lossless=1"),"all"===t.removeExif?s.push("s=1"):"without-orientation"===t.removeExif?s.push("s=2"):console.warn('Unknown removeExif mode "'+t.removeExif+'". Use "all" or "without-orientation"'),t.through&&s.push("through="+t.through),s.join(","))+n,i.attr("src",n)):console.warn("Missing data-imgflx-src")})},l.fn[t].defaults={host:null,width:null,height:null,aspect:"force-scale",backgroundColor:"ffffff",origin:"center",allowUpscale:!0,format:"auto",quality:75,optimizeHuhmanTable:!1,lossless:!1,removeExif:"all",through:null}}(jQuery,(window,document));